#
# Makefile.in for LAME 3.xx decoding lib
#
# processed by ./configure to produce Makefile
#
SHELL = @SHELL@
@SET_MAKE@

prefix = @prefix@
exec_prefix = @exec_prefix@

BINDIR = @bindir@
LIBDIR = $(prefix)/lib
INCLUDEDIR = $(prefix)/include
CC     = @CC@
CFLAGS = @CFLAGS@
LDFLAGS= @LDFLAGS@
DEFS   = @CONFIG_DEFS@
INCLUDES = @INCLUDES@
INSTALL= @INSTALL@
INSTALL_PROGRAM=@INSTALL_PROGRAM@
INSTALL_DATA=@INSTALL_DATA@
INSTALL_SCRIPT = @INSTALL_SCRIPT@

AR = @AR@
RANLIB = @RANLIB@
MAKEDEP = @MAKEDEP@
RM_F = @RM_F@
LN_S = @LN_S@

mpglib_sources = common.c \
        dct64_i386.c \
        decode_i386.c \
        layer1.c \
        layer2.c \
        layer3.c \
        tabinit.c \
        interface.c 
mpglib_obj = $(mpglib_sources:.c=.o) 

DEP = $(mpglib_sources:.c=.d)
LIB_DEST=libmpgdecoder.a

%.o: %.c 
	$(CC) $(INCLUDES) $(DEFS) $(CFLAGS) -c $< -o $@

%.d: %.c
  ifeq ($(NOUNIXCMD),YES)
	$(CC) $(MAKEDEP) $(INCLUDES) $(DEFS) $(CFLAGS)  $< > $@
  else
	$(SHELL) -ec '$(CC) $(MAKEDEP) $(INCLUDES) $(DEFS) $(CFLAGS)  $< | sed '\''s;$*.o;& $@;g'\'' > $@'
  endif

all: $(LIB_DEST)

$(LIB_DEST):  $(mpglib_obj) Makefile
	$(AR) cr $(LIB_DEST)  $(mpglib_obj)
	$(RANLIB) $(LIB_DEST)

install: 

uninstall:

clean:
	-$(RM_F) $(mpglib_obj) $(DEP) $(LIB_DEST)

tags: TAGS

TAGS: $(mpglib_sources) 
	etags -T $(mpglib_sources) 

ifneq ($(MAKECMDGOALS),clean)
  -include $(DEP)
endif


